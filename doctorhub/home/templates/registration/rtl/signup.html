{% extends 'doctorhub/layouts/rtl/light/green/master.html' %}

{% load staticfiles %}
{% load pages %}
{% load i18n %}

{% block additional_css %}

    <link rel="stylesheet" href="{% static 'doctorhub/more/css/persian-datepicker.min.css' %}"/>

{% endblock %}

{% block page_title %}

{% endblock %}

{% block breadcrumb %}

    <li class="breadcrumb-item active">
        {% trans 'Registration' %}
    </li>

    <li class="breadcrumb-item">
        <a href="{% home_page_url %}">
            {% trans 'Home' %}
        </a>
    </li>

{% endblock %}

{% block main_content %}

    {% include 'registration/signup/page.html' %}

{% endblock %}

{% block additional_js %}

    <script src="{% static 'doctorhub/more/js/persian-date.min.js' %}"></script>
    <script src="{% static 'doctorhub/more/js/persian-datepicker.min.js' %}"></script>

    <script>

        function setPersianDatePicker() {
            $(".persian-datepicker").persianDatepicker(
                {
                    formatter: function (unixDate) {
                        var gregorianDate = new Date(unixDate);
                        var day = gregorianDate.getDate().toString();
                        var month = (gregorianDate.getMonth() + 1).toString();
                        var year = gregorianDate.getFullYear().toString();
                        $('#birthdate-input').val(
                            year + '-' + month + '-' + day
                        );
                        var pdate = new persianDate(unixDate);
                        day = pdate.date().toString();
                        month = pdate.month().toString();
                        year = pdate.year().toString();
                        return year + '/' + month + '/' + day
                    },
                    autoClose: true,
                }
            );
        }

        function set_gregorian_date() {
            $(".persian-datepicker").val(
                $('#birthdate-input').val()
            );
        }

        $(document).ready(
            setPersianDatePicker()
        );

    </script>

{% endblock %}